# ğŸš€ éƒ¨ç½²åœ°å€ - æ­£å¼ç”Ÿäº§ç¯å¢ƒ

**éƒ¨ç½²æ—¶é—´**: 2025-10-28  
**çŠ¶æ€**: âœ… éƒ¨ç½²å®Œæˆ

---

## ğŸ“ æ­£å¼éƒ¨ç½²åœ°å€

### ğŸ¨ **å‰ç«¯** (branch-prod åˆ†æ”¯)

```
https://branch-prod.poap-checkin-frontend.pages.dev
```

**éƒ¨ç½² ID**: `https://777f13ee.poap-checkin-frontend.pages.dev`

---

### ğŸ”§ **åç«¯ API**

```
https://songbrocade-api.petterbrand03.workers.dev
```

**Version ID**: `667c8bce-4f9b-411a-be84-ab036e69c8e5`

---

## ğŸŒ ä¸»è¦åŠŸèƒ½é¡µé¢

### ç”¨æˆ·ç«¯

| é¡µé¢ | é“¾æ¥ |
|-----|------|
| ğŸ  é¦–é¡µ | https://branch-prod.poap-checkin-frontend.pages.dev/ |
| ğŸ“– å•†å“è¯¦æƒ…ï¼ˆæ–‡åŒ–æ•…äº‹ï¼‰ | /product.html?id={å•†å“ID} |
| ğŸ›’ å•†åŸ | /market/ |
| âœ… ç­¾åˆ° | /checkin/ |

### ç®¡ç†åå°

| é¡µé¢ | é“¾æ¥ |
|-----|------|
| ğŸ›ï¸ æ§åˆ¶å° | /admin/ |
| **ğŸ¬ æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨** | **/admin/narrative-generator.html** â­ |
| ğŸ‘¨â€ğŸ¨ åŒ äººç®¡ç† | /admin/artisans.html |
| ğŸ“¦ å•†å“ç®¡ç† | /admin/products.html |
| ğŸ¤– AI æ™ºèƒ½ä½“é…ç½® | /admin/artisan-ai-config.html |

---

## âš™ï¸ API å¯†é’¥é…ç½®çŠ¶æ€

### âœ… å·²é…ç½®

- âœ… **REPLICATE_API_KEY** - è§†é¢‘ç”ŸæˆåŠŸèƒ½ âœ“
- âœ… **D1 Database** (poap-db) - æ•°æ®åº“ âœ“
- âœ… **R2 Bucket** (poap-images) - å­˜å‚¨æ¡¶ âœ“
- âœ… **ADMIN_WALLETS** - ç®¡ç†å‘˜åœ°å€ âœ“
- âœ… **CORS** - å·²é…ç½® branch-prod åŸŸå âœ“

### âš ï¸ éœ€è¦é…ç½®ï¼ˆå¯ç”¨å¤šåª’ä½“åŠŸèƒ½å¿…éœ€ï¼‰

**OpenAI API Key** - ç”¨äºæ–‡å­—ç”Ÿæˆå’Œ TTS è¯­éŸ³

```bash
cd /Users/petterbrand/Downloads/æ——è¢ä¼šæŠ•ç¥¨ç©ºæŠ•ç³»ç»Ÿ10.26/worker-api

# é…ç½® OpenAI API Key
echo "YOUR_OPENAI_API_KEY" | npx wrangler secret put OPENAI_API_KEY

# é‡æ–°éƒ¨ç½²
npx wrangler deploy
```

**è·å–æ­¥éª¤**ï¼š
1. è®¿é—® https://platform.openai.com/api-keys
2. åˆ›å»ºæ–°å¯†é’¥ï¼ˆæ ¼å¼ï¼š`sk-...`ï¼‰
3. å……å€¼è‡³å°‘ $5ï¼ˆçº¦ Â¥36ï¼‰

---

## ğŸ¬ å¤šåª’ä½“æ–‡åŒ–å™äº‹åŠŸèƒ½

### è®¿é—®å…¥å£

**æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨**ï¼š
```
https://branch-prod.poap-checkin-frontend.pages.dev/admin/narrative-generator.html
```

### AI æ¨¡å‹é…ç½®

#### 1ï¸âƒ£ **æ–‡å­—è½¬è¯­éŸ³ï¼ˆTTSï¼‰**
- **æä¾›å•†**: OpenAI
- **æ¨¡å‹**: tts-1
- **å£°éŸ³é€‰é¡¹**:
  - `nova` æ¸©æŸ”å¥³å£° - é€‚åˆæ•…äº‹å™è¿° â­
  - `alloy` ä¸­æ€§ä¸“ä¸šå£° - é€‚åˆäº§å“ä»‹ç»
  - `onyx` æ²‰ç¨³ç”·å£° - é€‚åˆæ–‡åŒ–ä¼ æ‰¿
  - `shimmer` æ¸…æ™°å¥³å£° - é€‚åˆä½¿ç”¨æŒ‡å¯¼

#### 2ï¸âƒ£ **æ–‡ç”Ÿè§†é¢‘**
- **æä¾›å•†**: Replicate âœ“
- **æ¨¡å‹**: Stable Video Diffusion
- **è§†é¢‘é£æ ¼**:
  - äº§å“å±•ç¤ºé£ï¼ˆè¿åŠ¨å¼ºåº¦ï¼š80ï¼‰
  - å™äº‹ç”µå½±æ„Ÿï¼ˆè¿åŠ¨å¼ºåº¦ï¼š100ï¼‰
  - æ–‡åŒ–ä¼ æ‰¿é£ï¼ˆè¿åŠ¨å¼ºåº¦ï¼š60ï¼‰
  - å®ç”¨åœºæ™¯é£ï¼ˆè¿åŠ¨å¼ºåº¦ï¼š120ï¼‰

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### å•ä¸ªå•†å“ï¼ˆ4ç§å™äº‹ç±»å‹ï¼‰

| é…ç½®æ–¹æ¡ˆ | æˆæœ¬ |
|---------|------|
| ä»…æ–‡å­— | Â¥1.72 |
| æ–‡å­— + è¯­éŸ³ | Â¥1.96 |
| **æ–‡å­— + è¯­éŸ³ + è§†é¢‘** | **Â¥2.84** â­ æ¨è |

### æ‰¹é‡ç”Ÿæˆï¼ˆ100ä¸ªå•†å“ï¼‰

- ä»…æ–‡å­—ï¼šÂ¥172
- æ–‡å­— + è¯­éŸ³ï¼šÂ¥196
- **å…¨æ ¼å¼ï¼ˆæ¨èï¼‰**ï¼š**Â¥284** ğŸ‰

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜ç”Ÿæˆæ–‡åŒ–æ•…äº‹

1. **ç™»å½•ç®¡ç†åå°**
   ```
   https://branch-prod.poap-checkin-frontend.pages.dev/admin/
   ```

2. **è¿›å…¥æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨**
   ```
   https://branch-prod.poap-checkin-frontend.pages.dev/admin/narrative-generator.html
   ```

3. **é…ç½®ç”Ÿæˆé€‰é¡¹**
   - é€‰æ‹©å•†å“
   - å‹¾é€‰å™äº‹ç±»å‹ï¼ˆæ•…äº‹ç‰ˆ/ç‰¹ç‚¹ç‰ˆ/ä¼ æ‰¿ç‰ˆ/ä½¿ç”¨ç‰ˆï¼‰
   - â˜‘ï¸ å‹¾é€‰"ç”Ÿæˆè¯­éŸ³ç‰ˆ"ï¼Œé€‰æ‹©å£°éŸ³é£æ ¼
   - â˜‘ï¸ å‹¾é€‰"ç”Ÿæˆè§†é¢‘ç‰ˆ"ï¼Œé€‰æ‹©è§†é¢‘é£æ ¼
   - æŸ¥çœ‹æˆæœ¬ä¼°ç®—

4. **ç‚¹å‡»ç”Ÿæˆ**
   - æ–‡å­—ï¼šç«‹å³ç”Ÿæˆ
   - è¯­éŸ³ï¼š2-5ç§’ç”Ÿæˆ
   - è§†é¢‘ï¼š2-5åˆ†é’Ÿåå°ç”Ÿæˆ

5. **å‘å¸ƒå†…å®¹**
   - ç‚¹å‡»"âœ… å‘å¸ƒ"æŒ‰é’®
   - ç”¨æˆ·å³å¯åœ¨å•†å“é¡µæŸ¥çœ‹

### ç”¨æˆ·æŸ¥çœ‹æ–‡åŒ–æ•…äº‹

1. **æ‰“å¼€å•†å“è¯¦æƒ…é¡µ**
   ```
   https://branch-prod.poap-checkin-frontend.pages.dev/product.html?id=1
   ```

2. **ç‚¹å‡»"äº†è§£æ–‡åŒ–æ•…äº‹"æŒ‰é’®**

3. **åˆ‡æ¢æŸ¥çœ‹**
   - **å™äº‹ç±»å‹**ï¼šæ•…äº‹ç‰ˆ/ç‰¹ç‚¹ç‰ˆ/ä¼ æ‰¿ç‰ˆ/ä½¿ç”¨ç‰ˆ
   - **åª’ä½“æ ¼å¼**ï¼š
     - ğŸ“– æ–‡å­—ç‰ˆï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰
     - ğŸµ è¯­éŸ³ç‰ˆï¼ˆç‚¹å‡»æ’­æ”¾éŸ³é¢‘ï¼‰
     - ğŸ¬ è§†é¢‘ç‰ˆï¼ˆç‚¹å‡»æ’­æ”¾è§†é¢‘ï¼‰

---

## ğŸ§ª å¿«é€Ÿæµ‹è¯•

### æµ‹è¯•åç«¯ API

```bash
# åŸºç¡€è¿æ¥
curl https://songbrocade-api.petterbrand03.workers.dev/

# å•†å“åˆ—è¡¨
curl https://songbrocade-api.petterbrand03.workers.dev/products
```

### æµ‹è¯•å‰ç«¯

```bash
# é¦–é¡µ
open https://branch-prod.poap-checkin-frontend.pages.dev/

# ç®¡ç†åå°
open https://branch-prod.poap-checkin-frontend.pages.dev/admin/

# æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨
open https://branch-prod.poap-checkin-frontend.pages.dev/admin/narrative-generator.html
```

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·ç«¯
  â†“
https://branch-prod.poap-checkin-frontend.pages.dev
  â†“ (API è°ƒç”¨)
https://songbrocade-api.petterbrand03.workers.dev
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ D1       â”‚ R2       â”‚ OpenAI   â”‚Replicate â”‚
â”‚ poap-db  â”‚ poap-    â”‚ TTS+GPT  â”‚ Video    â”‚
â”‚          â”‚ images   â”‚          â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°

- âœ… æ–‡å­—ç”Ÿæˆï¼ˆ4ç§å™äº‹ç±»å‹ï¼‰
- âœ… è¯­éŸ³ç”Ÿæˆï¼ˆOpenAI TTSï¼Œ4ç§å£°éŸ³ï¼‰
- âœ… è§†é¢‘ç”Ÿæˆï¼ˆStable Video Diffusionï¼Œ4ç§é£æ ¼ï¼‰
- âœ… å¤šæ ¼å¼å±•ç¤ºï¼ˆæ–‡å­—/è¯­éŸ³/è§†é¢‘åˆ‡æ¢ï¼‰
- âœ… å¼‚æ­¥å¤„ç†ï¼ˆè§†é¢‘åå°ç”Ÿæˆï¼‰
- âœ… è‡ªåŠ¨å­˜å‚¨ï¼ˆR2 Bucketï¼‰
- âœ… å“åº”å¼è®¾è®¡ï¼ˆæ¡Œé¢+ç§»åŠ¨ç«¯ï¼‰
- âœ… æˆæœ¬ä¼˜åŒ–ï¼ˆå•å•†å“ Â¥2.84ï¼‰

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### 1. é…ç½® OpenAI API Key âš ï¸ å¿…éœ€

```bash
cd /Users/petterbrand/Downloads/æ——è¢ä¼šæŠ•ç¥¨ç©ºæŠ•ç³»ç»Ÿ10.26/worker-api
echo "sk-YOUR_KEY" | npx wrangler secret put OPENAI_API_KEY
npx wrangler deploy
```

### 2. æµ‹è¯•å®Œæ•´æµç¨‹

1. è®¿é—®æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨
2. ç”Ÿæˆç¬¬ä¸€ä¸ªæ–‡åŒ–æ•…äº‹
3. æµ‹è¯•è¯­éŸ³æ’­æ”¾
4. ç­‰å¾…è§†é¢‘ç”Ÿæˆå®Œæˆ

### 3. æ‰¹é‡ç”Ÿæˆï¼ˆå¯é€‰ï¼‰

ä¸ºæ‰€æœ‰å•†å“ç”Ÿæˆæ–‡åŒ–å™äº‹å†…å®¹ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

---

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

- **å®Œæ•´å®æ–½æŠ¥å‘Š**: `MULTIMEDIA_IMPLEMENTATION_COMPLETE.md`
- **é…ç½®æŒ‡å—**: `MULTIMEDIA_SETUP_GUIDE.md`
- **ä»£ç æ–‡ä»¶**:
  - TTS: `worker-api/utils/tts-helper.js`
  - è§†é¢‘: `worker-api/utils/video-helper.js`
  - ç”Ÿæˆå™¨: `worker-api/utils/multimedia-generator.js`

---

## ğŸ‰ éƒ¨ç½²æ€»ç»“

| ç»„ä»¶ | åœ°å€ | çŠ¶æ€ |
|-----|------|------|
| **å‰ç«¯** | branch-prod.poap-checkin-frontend.pages.dev | âœ… å·²éƒ¨ç½² |
| **åç«¯** | songbrocade-api.petterbrand03.workers.dev | âœ… å·²éƒ¨ç½² |
| **æ•°æ®åº“** | poap-db (D1) | âœ… å·²è¿æ¥ |
| **å­˜å‚¨** | poap-images (R2) | âœ… å·²è¿æ¥ |
| **Replicate** | è§†é¢‘ç”Ÿæˆ | âœ… å·²é…ç½® |
| **OpenAI** | TTS + æ–‡å­—ç”Ÿæˆ | âš ï¸ å¾…é…ç½® |

---

**ğŸŠ éƒ¨ç½²å®Œæˆï¼**

**å‰ç«¯**: https://branch-prod.poap-checkin-frontend.pages.dev  
**åç«¯**: https://songbrocade-api.petterbrand03.workers.dev

**é…ç½® OpenAI API Key åå³å¯ä½¿ç”¨å®Œæ•´çš„å¤šåª’ä½“æ–‡åŒ–å™äº‹åŠŸèƒ½ï¼**

