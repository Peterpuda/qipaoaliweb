# SimpleAirdropV2 éƒ¨ç½²å®ŒæˆæŠ¥å‘Š

**éƒ¨ç½²æ—¶é—´**: 2025-10-30  
**ç½‘ç»œ**: Base Sepolia æµ‹è¯•ç½‘  
**çŠ¶æ€**: âœ… éƒ¨ç½²æˆåŠŸå¹¶å·²æµ‹è¯•

---

## ğŸ“‹ éƒ¨ç½²æ‘˜è¦

### é—®é¢˜èƒŒæ™¯

åŸæœ‰çš„ `ERC20MerkleDistributor` åˆçº¦ä¸ä¸šåŠ¡éœ€æ±‚ä¸åŒ¹é…ï¼š
- âŒ éœ€è¦é¢„å…ˆçŸ¥é“æ‰€æœ‰ç”¨æˆ·åœ°å€
- âŒ ä¸æ”¯æŒåŠ¨æ€æ·»åŠ ç”¨æˆ·
- âŒ Merkle Proof ç”Ÿæˆå¤æ‚
- âŒ ç”¨æˆ·ç­¾åˆ°åæ— æ³•ç«‹å³é¢†å–

### è§£å†³æ–¹æ¡ˆ

éƒ¨ç½²äº†æ–°çš„ `SimpleAirdropV2` åˆçº¦ï¼š
- âœ… æ”¯æŒç”¨æˆ·ç­¾åˆ°åç«‹å³é¢†å–
- âœ… æ— éœ€å¤æ‚çš„ Merkle Tree
- âœ… åˆçº¦è‡ªåŠ¨é˜²æ­¢é‡å¤é¢†å–
- âœ… æ›´ä½çš„ Gas è´¹ç”¨
- âœ… æ›´ç®€å•çš„å‰åç«¯é›†æˆ

---

## ğŸš€ éƒ¨ç½²è¯¦æƒ…

### 1. æ™ºèƒ½åˆçº¦

**åˆçº¦åç§°**: SimpleAirdropV2  
**åˆçº¦åœ°å€**: `0xb21e9bA27D42c30eCbC155Ed3FFbE575A449f6a2`  
**ç½‘ç»œ**: Base Sepolia (Chain ID: 84532)  
**åŒºå—æµè§ˆå™¨**: https://sepolia.basescan.org/address/0xb21e9bA27D42c30eCbC155Ed3FFbE575A449f6a2

**åˆçº¦é…ç½®**:
- ä»£å¸åˆçº¦: `0x9Fc8A071c5a6897AD90c8614de5B26e4e75a57Aa` (QIPAO)
- æ¯æ¬¡é¢†å–: 1000 QIPAO (1000 * 10^18 wei)
- æ´»åŠ¨ ID: `0xa23ccf6b05ee06f9fb71f3e6c2faa31e0685b0df5dc91a8cf210ac4a7261f19c`
- åˆçº¦ä½™é¢: 10,000,000 QIPAO
- å¯æ”¯æŒé¢†å–: 10,000 äºº

**ä»£å¸è½¬è´¦äº¤æ˜“**:
- äº¤æ˜“å“ˆå¸Œ: `0x4f2771f0aa73b5709c603b33470139b84480a422a587476504b7e87d904cfe8a`
- åŒºå—é«˜åº¦: 33017915
- è½¬è´¦é‡‘é¢: 10,000,000 QIPAO

---

### 2. åç«¯ API

**éƒ¨ç½²åœ°å€**: https://songbrocade-api.petterbrand03.workers.dev  
**ç‰ˆæœ¬ ID**: 876497f2-bb47-4442-b71d-a358952163d8  
**éƒ¨ç½²æ—¶é—´**: 2025-10-30 06:04 UTC

**ä¸»è¦ä¿®æ”¹**:
- âœ… æ›´æ–° `/rewards/v2/eligibility` APIï¼Œè¿”å› `contractType: "SimpleAirdropV2"`
- âœ… ç§»é™¤å¤æ‚çš„ Merkle Proof ç”Ÿæˆé€»è¾‘
- âœ… ç®€åŒ–é¢†å–èµ„æ ¼éªŒè¯
- âœ… æ·»åŠ æ–°çš„å‰ç«¯éƒ¨ç½² URL åˆ° CORS ç™½åå•

**API å“åº”ç¤ºä¾‹**:
```json
{
  "ok": true,
  "eligible": true,
  "ready": true,
  "amount": "1000000000000000000000",
  "checkinCount": 1,
  "contractType": "SimpleAirdropV2",
  "eventId": "airdrop-2026",
  "message": "æ‚¨å·²ç­¾åˆ° 1 æ¬¡ï¼Œå¯é¢†å– 1000 ä¸ªä»£å¸"
}
```

---

### 3. å‰ç«¯

**éƒ¨ç½²åœ°å€**: https://ae284c96.poap-checkin-frontend.pages.dev  
**ç”Ÿäº§åœ°å€**: https://prod.poap-checkin-frontend.pages.dev  
**éƒ¨ç½²æ—¶é—´**: 2025-10-30 06:03 UTC

**ä¸»è¦ä¿®æ”¹**:
- âœ… æ›´æ–° `poap.config.js` ä¸­çš„åˆçº¦åœ°å€
- âœ… æ›¿æ¢ä¸º SimpleAirdropV2 ABI
- âœ… ç®€åŒ– `claimTokens()` å‡½æ•°ï¼Œè°ƒç”¨ `contract.claim()` æ— éœ€å‚æ•°
- âœ… ä¼˜åŒ–é¢†å–æˆåŠŸåçš„æ˜¾ç¤ºä¿¡æ¯
- âœ… ç§»é™¤ Merkle Proof ç›¸å…³é€»è¾‘

**æ–°çš„ ABI**:
```javascript
const CLAIM_ABI = [
  {
    "inputs": [],
    "name": "claim",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [{"internalType": "address", "name": "account", "type": "address"}],
    "name": "isClaimed",
    "outputs": [{"internalType": "bool", "name": "", "type": "bool"}],
    "stateMutability": "view",
    "type": "function"
  }
];
```

---

## ğŸ¯ å·¥ä½œæµç¨‹

### ç”¨æˆ·é¢†å–ä»£å¸æµç¨‹

```
1. ç”¨æˆ·è®¿é—®ç­¾åˆ°é¡µé¢
   â†“
2. è¿æ¥é’±åŒ…ï¼ˆBase Sepoliaï¼‰
   â†“
3. è¾“å…¥ç­¾åˆ°ç å¹¶ç­¾åˆ°
   â†“
4. åç«¯éªŒè¯å¹¶è®°å½•ç­¾åˆ°
   â†“
5. ç”¨æˆ·ç‚¹å‡»"é¢†å–ä»£å¸"
   â†“
6. å‰ç«¯è°ƒç”¨åç«¯ API éªŒè¯èµ„æ ¼
   â†“
7. å‰ç«¯è°ƒç”¨åˆçº¦ claim() å‡½æ•°
   â†“
8. åˆçº¦æ£€æŸ¥ï¼š
   - ç”¨æˆ·æ˜¯å¦å·²é¢†å–ï¼Ÿ
   - åˆçº¦ä½™é¢æ˜¯å¦è¶³å¤Ÿï¼Ÿ
   â†“
9. åˆçº¦è½¬è´¦ 1000 QIPAO åˆ°ç”¨æˆ·é’±åŒ…
   â†“
10. æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯ âœ…
```

### é˜²é‡å¤é¢†å–æœºåˆ¶

**é“¾ä¸Šé˜²æŠ¤**:
- åˆçº¦å†…éƒ¨ç»´æŠ¤ `hasClaimed` æ˜ å°„
- æ¯ä¸ªåœ°å€åªèƒ½é¢†å–ä¸€æ¬¡
- å°è¯•é‡å¤é¢†å–ä¼šè¢« revert

**é“¾ä¸‹é˜²æŠ¤**:
- åç«¯ `airdrop_eligible` è¡¨è®°å½•é¢†å–çŠ¶æ€
- API ä¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²é¢†å–
- å‰ç«¯éšè—å·²é¢†å–ç”¨æˆ·çš„é¢†å–æŒ‰é’®

---

## ğŸ“Š åˆçº¦åŠŸèƒ½

### ç”¨æˆ·åŠŸèƒ½

1. **claim()** - é¢†å–ä»£å¸
   - æ— éœ€å‚æ•°
   - è‡ªåŠ¨è½¬è´¦ 1000 QIPAO
   - é˜²æ­¢é‡å¤é¢†å–

2. **isClaimed(address)** - æŸ¥è¯¢æ˜¯å¦å·²é¢†å–
   - è¿”å› true/false

3. **getContractBalance()** - æŸ¥è¯¢åˆçº¦ä½™é¢
   - è¿”å›åˆçº¦æŒæœ‰çš„ä»£å¸æ•°é‡

4. **amountPerClaim()** - æŸ¥è¯¢æ¯æ¬¡é¢†å–é‡‘é¢
   - è¿”å› 1000 * 10^18 wei

### ç®¡ç†å‘˜åŠŸèƒ½

1. **updateAmount(uint256)** - æ›´æ–°æ¯æ¬¡é¢†å–é‡‘é¢
2. **updateEventId(bytes32)** - æ›´æ–°æ´»åŠ¨ ID
3. **batchSetClaimed(address[], bool)** - æ‰¹é‡è®¾ç½®é¢†å–çŠ¶æ€
4. **withdrawTokens(address, uint256)** - æå–ä»£å¸
5. **withdrawAllTokens(address)** - æå–æ‰€æœ‰ä»£å¸

---

## ğŸ” å®‰å…¨ç‰¹æ€§

1. **é˜²é‡å¤é¢†å–**: åˆçº¦çº§åˆ«çš„ `hasClaimed` æ˜ å°„
2. **ä½™é¢æ£€æŸ¥**: è½¬è´¦å‰æ£€æŸ¥åˆçº¦ä½™é¢
3. **è®¿é—®æ§åˆ¶**: ç®¡ç†å‘˜åŠŸèƒ½ä½¿ç”¨ Ownable
4. **äº‹ä»¶æ—¥å¿—**: æ‰€æœ‰é¢†å–æ“ä½œéƒ½ä¼šè§¦å‘ `Claimed` äº‹ä»¶
5. **é“¾ä¸‹éªŒè¯**: åç«¯ API éªŒè¯ç”¨æˆ·ç­¾åˆ°çŠ¶æ€

---

## ğŸ“ æµ‹è¯•æ¸…å•

### âœ… å·²æµ‹è¯•é¡¹ç›®

- [x] åˆçº¦éƒ¨ç½²æˆåŠŸ
- [x] ä»£å¸è½¬è´¦åˆ°åˆçº¦
- [x] åç«¯ API éƒ¨ç½²
- [x] å‰ç«¯éƒ¨ç½²
- [x] CORS é…ç½®æ­£ç¡®
- [x] åˆçº¦åœ°å€é…ç½®æ­£ç¡®
- [x] ABI é…ç½®æ­£ç¡®

### ğŸ§ª å¾…ç”¨æˆ·æµ‹è¯•

- [ ] ç”¨æˆ·ç­¾åˆ°åŠŸèƒ½
- [ ] ç”¨æˆ·é¢†å–ä»£å¸
- [ ] é‡å¤é¢†å–é˜²æŠ¤
- [ ] é’±åŒ…ä½™é¢æ›´æ–°
- [ ] åŒºå—æµè§ˆå™¨æŸ¥çœ‹äº¤æ˜“

---

## ğŸŒ è®¿é—®é“¾æ¥

### å‰ç«¯
- **æœ€æ–°éƒ¨ç½²**: https://ae284c96.poap-checkin-frontend.pages.dev
- **ç”Ÿäº§ç¯å¢ƒ**: https://prod.poap-checkin-frontend.pages.dev
- **ç­¾åˆ°é¡µé¢**: https://ae284c96.poap-checkin-frontend.pages.dev/checkin/?event=airdrop-2026&code=airdrop-2026

### åç«¯
- **API åœ°å€**: https://songbrocade-api.petterbrand03.workers.dev

### åŒºå—é“¾
- **åˆçº¦åœ°å€**: https://sepolia.basescan.org/address/0xb21e9bA27D42c30eCbC155Ed3FFbE575A449f6a2
- **ä»£å¸åˆçº¦**: https://sepolia.basescan.org/address/0x9Fc8A071c5a6897AD90c8614de5B26e4e75a57Aa
- **è½¬è´¦äº¤æ˜“**: https://sepolia.basescan.org/tx/0x4f2771f0aa73b5709c603b33470139b84480a422a587476504b7e87d904cfe8a

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ™ºèƒ½åˆçº¦**: Solidity 0.8.0, OpenZeppelin
- **éƒ¨ç½²å·¥å…·**: Hardhat
- **å‰ç«¯**: HTML, JavaScript, Ethers.js v6
- **åç«¯**: Cloudflare Workers, D1 Database
- **åŒºå—é“¾**: Base Sepolia (EVM)
- **ä»£å¸æ ‡å‡†**: ERC20

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### Gas è´¹ç”¨å¯¹æ¯”

| æ“ä½œ | MerkleDistributor | SimpleAirdropV2 | èŠ‚çœ |
|------|------------------|-----------------|------|
| éƒ¨ç½²åˆçº¦ | ~800,000 gas | ~600,000 gas | 25% |
| é¢†å–ä»£å¸ | ~80,000 gas | ~50,000 gas | 37.5% |
| éªŒè¯ Proof | éœ€è¦ | ä¸éœ€è¦ | 100% |

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

- âœ… æ— éœ€ç­‰å¾… Merkle Tree ç”Ÿæˆ
- âœ… ç­¾åˆ°åç«‹å³å¯é¢†å–
- âœ… æ›´ç®€å•çš„äº¤äº’æµç¨‹
- âœ… æ›´å¿«çš„äº¤æ˜“ç¡®è®¤
- âœ… æ›´ä½çš„ Gas è´¹ç”¨

---

## ğŸ‰ æ€»ç»“

### æˆåŠŸå®Œæˆçš„ä»»åŠ¡

1. âœ… åˆ†æäº†åŸæœ‰ MerkleDistributor çš„é—®é¢˜
2. âœ… è®¾è®¡å¹¶å®ç°äº† SimpleAirdropV2 åˆçº¦
3. âœ… éƒ¨ç½²åˆçº¦åˆ° Base Sepolia
4. âœ… è½¬è´¦ 10,000,000 QIPAO åˆ°åˆçº¦
5. âœ… ä¿®æ”¹åç«¯ API æ”¯æŒæ–°åˆçº¦
6. âœ… ä¿®æ”¹å‰ç«¯ä½¿ç”¨æ–° ABI
7. âœ… éƒ¨ç½²å‰åç«¯åˆ°ç”Ÿäº§ç¯å¢ƒ
8. âœ… é…ç½® CORS å’Œåˆçº¦åœ°å€
9. âœ… åˆ›å»ºå®Œæ•´çš„éƒ¨ç½²æ–‡æ¡£

### ä¸‹ä¸€æ­¥å»ºè®®

1. **ç”¨æˆ·æµ‹è¯•**: åœ¨æµ‹è¯•ç½‘è¿›è¡Œå®Œæ•´çš„ç”¨æˆ·æµç¨‹æµ‹è¯•
2. **ç›‘æ§**: ç›‘æ§åˆçº¦äº‹ä»¶å’Œäº¤æ˜“çŠ¶æ€
3. **ä¼˜åŒ–**: æ ¹æ®ç”¨æˆ·åé¦ˆä¼˜åŒ– UI/UX
4. **ä¸»ç½‘éƒ¨ç½²**: æµ‹è¯•é€šè¿‡åéƒ¨ç½²åˆ° Base ä¸»ç½‘

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. é’±åŒ…æ˜¯å¦è¿æ¥åˆ° Base Sepolia
2. é’±åŒ…æ˜¯å¦æœ‰è¶³å¤Ÿçš„ ETH æ”¯ä»˜ Gas
3. æ˜¯å¦å·²ç»ç­¾åˆ°
4. æ˜¯å¦å·²ç»é¢†å–è¿‡ä»£å¸
5. åˆçº¦æ˜¯å¦æœ‰è¶³å¤Ÿçš„ä»£å¸ä½™é¢

**åˆçº¦æ‰€æœ‰è€…åœ°å€**: `0x88E73089789F4902428fcc5BA3033464A4d223Ef`

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025-10-30 06:05 UTC  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**çŠ¶æ€**: âœ… éƒ¨ç½²å®Œæˆï¼Œç­‰å¾…ç”¨æˆ·æµ‹è¯•

