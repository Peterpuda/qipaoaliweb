# ğŸš€ éƒ¨ç½²åœ°å€ - Brand Prod ç¯å¢ƒ

**éƒ¨ç½²æ—¶é—´**: 2025-10-28  
**ç¯å¢ƒ**: brand-prod (ç”Ÿäº§ç¯å¢ƒ)  
**çŠ¶æ€**: âœ… éƒ¨ç½²å®Œæˆ

---

## ğŸ“ æ­£å¼éƒ¨ç½²åœ°å€

### ğŸ¨ **å‰ç«¯ç½‘ç«™** (branch-prod åˆ†æ”¯)

**ä¸»åŸŸå**:
```
https://branch-prod.poap-checkin-frontend.pages.dev
```

**éƒ¨ç½² ID**:
```
https://777f13ee.poap-checkin-frontend.pages.dev
```

---

### ğŸ”§ **åç«¯ API** (brand-prod ç¯å¢ƒ)

```
https://songbrocade-api-brand-prod.petterbrand03.workers.dev
```

**Version ID**: `c90ef4e0-1b06-4de6-af46-e233328d392d`

---

## ğŸŒ ä¸»è¦é¡µé¢é“¾æ¥

### **ç”¨æˆ·ç«¯**

| é¡µé¢ | é“¾æ¥ |
|-----|------|
| ğŸ  é¦–é¡µ | https://branch-prod.poap-checkin-frontend.pages.dev/ |
| ğŸ“– å•†å“è¯¦æƒ… | /product.html?id={å•†å“ID} |
| ğŸ›’ å•†åŸ | /market/ |
| âœ… ç­¾åˆ° | /checkin/ |

### **ç®¡ç†åå°**

| é¡µé¢ | é“¾æ¥ |
|-----|------|
| ğŸ›ï¸ æ§åˆ¶å° | /admin/ |
| **ğŸ¬ æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨** | **/admin/narrative-generator.html** â­ |
| ğŸ‘¨â€ğŸ¨ åŒ äººç®¡ç† | /admin/artisans.html |
| ğŸ“¦ å•†å“ç®¡ç† | /admin/products.html |
| ğŸ¤– AI é…ç½® | /admin/artisan-ai-config.html |

**å®Œæ•´ç®¡ç†åå°å…¥å£**:
```
https://branch-prod.poap-checkin-frontend.pages.dev/admin/
```

**æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨ï¼ˆå¤šåª’ä½“åŠŸèƒ½ï¼‰**:
```
https://branch-prod.poap-checkin-frontend.pages.dev/admin/narrative-generator.html
```

---

## âš™ï¸ é…ç½®çŠ¶æ€

### âœ… å·²é…ç½®
- âœ… **Replicate API Key** - è§†é¢‘ç”Ÿæˆ
- âœ… D1 Database (poap-db)
- âœ… R2 Bucket (poap-images)
- âœ… ç®¡ç†å‘˜é’±åŒ…
- âœ… CORS ç™½åå•ï¼ˆå·²æ·»åŠ  branch-prod åŸŸåï¼‰

### âš ï¸ éœ€è¦é…ç½®ï¼ˆå¤šåª’ä½“åŠŸèƒ½å¿…éœ€ï¼‰

**OpenAI API Key** - æ–‡å­—ç”Ÿæˆ + TTS è¯­éŸ³

```bash
cd /Users/petterbrand/Downloads/æ——è¢ä¼šæŠ•ç¥¨ç©ºæŠ•ç³»ç»Ÿ10.26/worker-api

# é…ç½®åˆ° brand-prod ç¯å¢ƒ
echo "YOUR_OPENAI_API_KEY" | npx wrangler secret put OPENAI_API_KEY --env brand-prod
```

**è·å– OpenAI API Key**:
1. è®¿é—®: https://platform.openai.com/api-keys
2. åˆ›å»ºæ–°å¯†é’¥ (æ ¼å¼: `sk-...`)
3. å……å€¼è‡³å°‘ $5

---

## ğŸ¯ å¤šåª’ä½“æ–‡åŒ–å™äº‹åŠŸèƒ½

### ä½¿ç”¨çš„ AI æ¨¡å‹

#### 1ï¸âƒ£ **TTSï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰**
- **æä¾›å•†**: OpenAI
- **æ¨¡å‹**: tts-1
- **å£°éŸ³é€‰é¡¹**:
  - `nova` - æ¸©æŸ”å¥³å£°ï¼ˆé€‚åˆæ•…äº‹å™è¿°ï¼‰â­
  - `alloy` - ä¸­æ€§ä¸“ä¸šå£°ï¼ˆé€‚åˆäº§å“ä»‹ç»ï¼‰
  - `onyx` - æ²‰ç¨³ç”·å£°ï¼ˆé€‚åˆæ–‡åŒ–ä¼ æ‰¿ï¼‰
  - `shimmer` - æ¸…æ™°å¥³å£°ï¼ˆé€‚åˆä½¿ç”¨æŒ‡å¯¼ï¼‰
- **æˆæœ¬**: ~Â¥0.06/ä¸ªå™äº‹

#### 2ï¸âƒ£ **æ–‡ç”Ÿè§†é¢‘**
- **æä¾›å•†**: Replicate
- **æ¨¡å‹**: Stable Video Diffusion
- **è§†é¢‘é£æ ¼**:
  - äº§å“å±•ç¤ºé£ (motion_bucket_id: 80)
  - å™äº‹ç”µå½±æ„Ÿ (motion_bucket_id: 100)
  - æ–‡åŒ–ä¼ æ‰¿é£ (motion_bucket_id: 60)
  - å®ç”¨åœºæ™¯é£ (motion_bucket_id: 120)
- **æˆæœ¬**: ~Â¥0.22/ä¸ªå™äº‹
- **æ—¶é•¿**: 3-5ç§’
- **ç”Ÿæˆæ—¶é—´**: 2-5åˆ†é’Ÿï¼ˆå¼‚æ­¥ï¼‰

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### å•ä¸ªå•†å“ï¼ˆ4ç§å™äº‹ç±»å‹ï¼‰

| é…ç½®æ–¹æ¡ˆ | æˆæœ¬ |
|---------|------|
| ä»…æ–‡å­— | Â¥1.72 |
| æ–‡å­— + è¯­éŸ³ | Â¥1.96 |
| **æ–‡å­— + è¯­éŸ³ + è§†é¢‘** | **Â¥2.84** â­ |

### æ‰¹é‡ç”Ÿæˆï¼ˆ100ä¸ªå•†å“ï¼‰

- ä»…æ–‡å­—: Â¥172
- æ–‡å­— + è¯­éŸ³: Â¥196
- **å…¨æ ¼å¼**: **Â¥284** ğŸ‰

**ç»“è®º**: æˆæœ¬éå¸¸å¯æ§ï¼

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç®¡ç†å‘˜æ“ä½œæµç¨‹

#### 1. è®¿é—®æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨
```
https://branch-prod.poap-checkin-frontend.pages.dev/admin/narrative-generator.html
```

#### 2. ç”Ÿæˆæ–‡åŒ–æ•…äº‹
1. é€‰æ‹©å•†å“
2. å‹¾é€‰å™äº‹ç±»å‹:
   - ğŸ“– æ•…äº‹ç‰ˆ
   - âœ¨ ç‰¹ç‚¹ç‰ˆ
   - ğŸ›ï¸ ä¼ æ‰¿ç‰ˆ
   - ğŸ’¡ ä½¿ç”¨ç‰ˆ
3. **å‹¾é€‰å¤šåª’ä½“é€‰é¡¹**:
   - â˜‘ï¸ ç”Ÿæˆè¯­éŸ³ç‰ˆï¼ˆé€‰æ‹©å£°éŸ³é£æ ¼ï¼‰
   - â˜‘ï¸ ç”Ÿæˆè§†é¢‘ç‰ˆï¼ˆé€‰æ‹©è§†é¢‘é£æ ¼ï¼‰
4. ç‚¹å‡» **"ğŸš€ å¼€å§‹ç”Ÿæˆæ–‡åŒ–å™äº‹"**

#### 3. æŸ¥çœ‹å’Œå‘å¸ƒ
- æ–‡å­—ç‰ˆï¼šç«‹å³ç”Ÿæˆ
- è¯­éŸ³ç‰ˆï¼š2-5ç§’ç”Ÿæˆ
- è§†é¢‘ç‰ˆï¼š2-5åˆ†é’Ÿç”Ÿæˆï¼ˆå¼‚æ­¥ï¼Œæ˜¾ç¤º"ç”Ÿæˆä¸­"ï¼‰
- ç‚¹å‡» **"âœ… å‘å¸ƒ"** åç”¨æˆ·å¯è§

---

### ç”¨æˆ·æŸ¥çœ‹æµç¨‹

#### 1. æ‰“å¼€å•†å“è¯¦æƒ…é¡µ
```
https://branch-prod.poap-checkin-frontend.pages.dev/product.html?id=1
```

#### 2. ç‚¹å‡» "äº†è§£æ–‡åŒ–æ•…äº‹" æŒ‰é’®

#### 3. åˆ‡æ¢æ ¼å¼æŸ¥çœ‹
- **å™äº‹ç±»å‹åˆ‡æ¢**: æ•…äº‹ç‰ˆ / ç‰¹ç‚¹ç‰ˆ / ä¼ æ‰¿ç‰ˆ / ä½¿ç”¨ç‰ˆ
- **åª’ä½“æ ¼å¼åˆ‡æ¢**:
  - ğŸ“– æ–‡å­—ç‰ˆï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰
  - ğŸµ è¯­éŸ³ç‰ˆï¼ˆç‚¹å‡»æ’­æ”¾éŸ³é¢‘ï¼‰
  - ğŸ¬ è§†é¢‘ç‰ˆï¼ˆç‚¹å‡»æ’­æ”¾è§†é¢‘ï¼‰

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### 1. æµ‹è¯•åç«¯ API

```bash
# åŸºç¡€è¿æ¥æµ‹è¯•
curl https://songbrocade-api-brand-prod.petterbrand03.workers.dev/

# å•†å“åˆ—è¡¨
curl https://songbrocade-api-brand-prod.petterbrand03.workers.dev/products
```

### 2. æµ‹è¯•å‰ç«¯é¡µé¢

```bash
# ä¸»é¡µ
open https://branch-prod.poap-checkin-frontend.pages.dev/

# ç®¡ç†åå°
open https://branch-prod.poap-checkin-frontend.pages.dev/admin/

# æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨
open https://branch-prod.poap-checkin-frontend.pages.dev/admin/narrative-generator.html
```

### 3. æµ‹è¯•å¤šåª’ä½“ç”Ÿæˆï¼ˆéœ€é…ç½® OpenAI API Keyï¼‰

1. ç™»å½•ç®¡ç†åå°
2. è¿›å…¥æ–‡åŒ–å™äº‹ç”Ÿæˆå™¨
3. é€‰æ‹©å•†å“å¹¶å‹¾é€‰å¤šåª’ä½“é€‰é¡¹
4. ç”Ÿæˆå¹¶æŸ¥çœ‹ç»“æœ

---

## ğŸ“Š éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å‰ç«¯ (Cloudflare Pages)                   â”‚
â”‚                                                      â”‚
â”‚  https://branch-prod.poap-checkin-frontend.         â”‚
â”‚              pages.dev                               â”‚
â”‚                                                      â”‚
â”‚  åˆ†æ”¯: branch-prod                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTPS API è°ƒç”¨
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          åç«¯ API (Cloudflare Workers)               â”‚
â”‚                                                      â”‚
â”‚  https://songbrocade-api-brand-prod.                â”‚
â”‚         petterbrand03.workers.dev                    â”‚
â”‚                                                      â”‚
â”‚  ç¯å¢ƒ: brand-prod                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚              â”‚              â”‚              â”‚
      â–¼              â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ D1      â”‚   â”‚ R2       â”‚   â”‚ OpenAI   â”‚   â”‚Replicate â”‚
â”‚ poap-db â”‚   â”‚ poap-    â”‚   â”‚ TTS API  â”‚   â”‚ Video    â”‚
â”‚         â”‚   â”‚ images   â”‚   â”‚ GPT-4    â”‚   â”‚ API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ç¯å¢ƒå˜é‡å’Œå¯†é’¥

### Brand Prod ç¯å¢ƒå·²é…ç½®

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯†é’¥
npx wrangler secret list --env brand-prod

# è¾“å‡º:
âœ… REPLICATE_API_KEY (è§†é¢‘ç”Ÿæˆ)
âœ… ADMIN_WALLETS (ç®¡ç†å‘˜åœ°å€)
âœ… SHIPPING_KEY (åŠ å¯†å¯†é’¥)
â³ OPENAI_API_KEY (å¾…é…ç½®)
```

### é…ç½®æ–°å¯†é’¥

```bash
# é…ç½® OpenAI API Key
echo "sk-YOUR_KEY" | npx wrangler secret put OPENAI_API_KEY --env brand-prod

# é…ç½®å…¶ä»–å¯†é’¥
echo "VALUE" | npx wrangler secret put KEY_NAME --env brand-prod

# åˆ é™¤å¯†é’¥
npx wrangler secret delete KEY_NAME --env brand-prod
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

1. **å®Œæ•´å®æ–½æŠ¥å‘Š**: `MULTIMEDIA_IMPLEMENTATION_COMPLETE.md`
   - è¯¦ç»†æŠ€æœ¯æ¶æ„
   - åŠŸèƒ½è¯´æ˜
   - å·²çŸ¥é—®é¢˜

2. **é…ç½®æŒ‡å—**: `MULTIMEDIA_SETUP_GUIDE.md`
   - API Key è·å–æ­¥éª¤
   - æˆæœ¬è¯¦ç»†åˆ†æ
   - æµ‹è¯•å‘½ä»¤

3. **ä»£ç æ–‡ä»¶**:
   - åç«¯ TTS: `worker-api/utils/tts-helper.js`
   - åç«¯è§†é¢‘: `worker-api/utils/video-helper.js`
   - åç«¯ç”Ÿæˆå™¨: `worker-api/utils/multimedia-generator.js`
   - å‰ç«¯ç®¡ç†: `frontend/admin/narrative-generator.html`
   - å‰ç«¯å±•ç¤º: `frontend/product.html`

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½

âœ… **æ–‡å­—ç”Ÿæˆ**: 4ç§å™äº‹ç±»å‹ï¼ˆæ•…äº‹/ç‰¹ç‚¹/ä¼ æ‰¿/ä½¿ç”¨ï¼‰  
âœ… **è¯­éŸ³ç”Ÿæˆ**: OpenAI TTSï¼Œ4ç§å£°éŸ³é£æ ¼  
âœ… **è§†é¢‘ç”Ÿæˆ**: Stable Video Diffusionï¼Œ4ç§è§†é¢‘é£æ ¼  
âœ… **å¤šæ ¼å¼å±•ç¤º**: ç”¨æˆ·å¯åˆ‡æ¢æ–‡å­—/è¯­éŸ³/è§†é¢‘  
âœ… **å¼‚æ­¥å¤„ç†**: è§†é¢‘åå°ç”Ÿæˆï¼Œä¸é˜»å¡ç”¨æˆ·  
âœ… **è‡ªåŠ¨å­˜å‚¨**: éŸ³é¢‘å’Œè§†é¢‘è‡ªåŠ¨ä¸Šä¼  R2  
âœ… **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯  
âœ… **æˆæœ¬ä¼˜åŒ–**: å•å•†å“å…¨æ ¼å¼ä»… Â¥2.84  

---

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### 1. **ç«‹å³é…ç½® OpenAI API Key** âš ï¸ å¿…éœ€

```bash
cd /Users/petterbrand/Downloads/æ——è¢ä¼šæŠ•ç¥¨ç©ºæŠ•ç³»ç»Ÿ10.26/worker-api
echo "sk-YOUR_KEY" | npx wrangler secret put OPENAI_API_KEY --env brand-prod
```

### 2. **æµ‹è¯•å®Œæ•´æµç¨‹**

1. è®¿é—®ç®¡ç†åå°
2. ç”Ÿæˆç¬¬ä¸€ä¸ªæ–‡åŒ–æ•…äº‹
3. æµ‹è¯•è¯­éŸ³æ’­æ”¾
4. ç­‰å¾…è§†é¢‘ç”Ÿæˆï¼ˆ2-5åˆ†é’Ÿï¼‰

### 3. **æ‰¹é‡ç”Ÿæˆå†…å®¹**ï¼ˆå¯é€‰ï¼‰

- ä¸ºæ‰€æœ‰å•†å“ç”Ÿæˆæ–‡åŒ–å™äº‹
- 100ä¸ªå•†å“å…¨æ ¼å¼ä»…éœ€ Â¥284
- å¤§å¹…æå‡ç”¨æˆ·ä½“éªŒ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- OpenAI æ–‡æ¡£: https://platform.openai.com/docs
- Replicate æ–‡æ¡£: https://replicate.com/docs
- Cloudflare Workers: https://developers.cloudflare.com/workers/
- Cloudflare Pages: https://developers.cloudflare.com/pages/

---

## ğŸ‰ éƒ¨ç½²çŠ¶æ€æ€»ç»“

| ç»„ä»¶ | çŠ¶æ€ | åœ°å€ |
|-----|------|------|
| **å‰ç«¯** | âœ… å·²éƒ¨ç½² | branch-prod.poap-checkin-frontend.pages.dev |
| **åç«¯** | âœ… å·²éƒ¨ç½² | songbrocade-api-brand-prod.petterbrand03.workers.dev |
| **æ•°æ®åº“** | âœ… å·²è¿æ¥ | poap-db (D1) |
| **å­˜å‚¨** | âœ… å·²è¿æ¥ | poap-images (R2) |
| **Replicate API** | âœ… å·²é…ç½® | è§†é¢‘ç”ŸæˆåŠŸèƒ½å¯ç”¨ |
| **OpenAI API** | âš ï¸ å¾…é…ç½® | éœ€é…ç½®åå¯ä½¿ç”¨ TTS + æ–‡å­—ç”Ÿæˆ |

---

**éƒ¨ç½²å®Œæˆï¼** ğŸŠ

**å‰ç«¯åœ°å€**: https://branch-prod.poap-checkin-frontend.pages.dev  
**åç«¯åœ°å€**: https://songbrocade-api-brand-prod.petterbrand03.workers.dev

**ç°åœ¨é…ç½® OpenAI API Key å³å¯å¼€å§‹ä½¿ç”¨å¤šåª’ä½“æ–‡åŒ–å™äº‹åŠŸèƒ½ï¼**

