# é€šç”¨é’±åŒ…è¿æ¥å™¨é›†æˆæŒ‡å—

**åˆ›å»ºæ—¶é—´**: 2025-10-28  
**ç›®æ ‡**: ä¸ºç­¾åˆ°é¡µé¢æ·»åŠ é€šç”¨é’±åŒ…è¿æ¥åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§é’±åŒ…ï¼Œç‰¹åˆ«ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ  

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… æ”¯æŒçš„é’±åŒ…

| é’±åŒ… | æ¡Œé¢ç«¯ | ç§»åŠ¨ç«¯ | Deep Link |
|------|--------|--------|-----------|
| MetaMask | âœ… | âœ… | âœ… |
| Coinbase Wallet | âœ… | âœ… | âœ… |
| Trust Wallet | âœ… | âœ… | âœ… |
| imToken | âœ… | âœ… | âœ… |
| TokenPocket | âœ… | âœ… | âœ… |
| OKX Wallet | âœ… | âœ… | âœ… |
| Bitget Wallet | âœ… | âœ… | âœ… |
| Phantom | âœ… | âœ… | âœ… |
| å…¶ä»–é’±åŒ… | âœ… | âœ… | - |

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

1. **è‡ªåŠ¨æ£€æµ‹å·²å®‰è£…çš„é’±åŒ…** - æ‰«ææµè§ˆå™¨ä¸­æ‰€æœ‰å·²å®‰è£…çš„é’±åŒ…æ‰©å±•
2. **ç§»åŠ¨ç«¯ Deep Link æ”¯æŒ** - é€šè¿‡ Deep Link å”¤èµ·ç§»åŠ¨ç«¯é’±åŒ…åº”ç”¨
3. **å‹å¥½çš„é’±åŒ…é€‰æ‹©å™¨** - ç¾è§‚çš„ UIï¼Œæ¸…æ™°çš„é’±åŒ…åˆ—è¡¨
4. **è‡ªåŠ¨ç½‘ç»œåˆ‡æ¢** - è¿æ¥åè‡ªåŠ¨åˆ‡æ¢åˆ° Base Sepolia æµ‹è¯•ç½‘
5. **è´¦æˆ·å˜åŒ–ç›‘å¬** - å®æ—¶ç›‘å¬è´¦æˆ·å’Œç½‘ç»œå˜åŒ–
6. **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

---

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. `/frontend/common/wallet-connector.js`

é€šç”¨é’±åŒ…è¿æ¥å™¨æ ¸å¿ƒé€»è¾‘æ–‡ä»¶ã€‚

**ä¸»è¦åŠŸèƒ½**:
- æ£€æµ‹å·²å®‰è£…çš„é’±åŒ…
- æ˜¾ç¤ºé’±åŒ…é€‰æ‹©å™¨
- å¤„ç†é’±åŒ…è¿æ¥
- ç½‘ç»œåˆ‡æ¢
- è´¦æˆ·ç›‘å¬

**ä½¿ç”¨æ–¹æ³•**:
```javascript
// è¿æ¥é’±åŒ…
const result = await WalletConnector.connect({
  chainId: '0x14A34', // Base Sepolia
  chainConfig: {
    chainId: '0x14A34',
    chainName: 'Base Sepolia',
    nativeCurrency: {
      name: 'ETH',
      symbol: 'ETH',
      decimals: 18
    },
    rpcUrls: ['https://sepolia.base.org'],
    blockExplorerUrls: ['https://sepolia.basescan.org']
  },
  onAccountChanged: (newAddress) => {
    console.log('è´¦æˆ·å˜åŒ–:', newAddress);
  },
  onChainChanged: () => {
    console.log('ç½‘ç»œå˜åŒ–');
  }
});

console.log('è¿æ¥æˆåŠŸ:', result);
// { address: '0x...', provider: {...}, wallet: 'MetaMask' }
```

### 2. `/frontend/common/wallet-connector.css`

é’±åŒ…é€‰æ‹©å™¨çš„æ ·å¼æ–‡ä»¶ã€‚

**ç‰¹æ€§**:
- ç¾è§‚çš„æ¨¡æ€æ¡†è®¾è®¡
- å“åº”å¼å¸ƒå±€
- æš—è‰²æ¨¡å¼æ”¯æŒ
- å¹³æ»‘åŠ¨ç”»æ•ˆæœ

---

## ğŸ”§ é›†æˆæ­¥éª¤

### æ­¥éª¤ 1: å¼•å…¥æ–‡ä»¶

åœ¨ `frontend/checkin/index.html` çš„ `<head>` éƒ¨åˆ†æ·»åŠ ï¼š

```html
<link rel="stylesheet" href="../common/wallet-connector.css"/>
<script src="../common/wallet-connector.js"></script>
```

### æ­¥éª¤ 2: æ›´æ–° HTML

æ›¿æ¢åŸæœ‰çš„é’±åŒ…é€‰æ‹©ä¸‹æ‹‰æ¡†ï¼š

**åŸä»£ç **:
```html
<div class="row">
  <select id="walletSel">
    <option value="auto">è‡ªåŠ¨æ£€æµ‹</option>
    <option value="metamask">MetaMask</option>
    <option value="coinbase">Coinbase Wallet</option>
    <option value="phantom">Phantom</option>
  </select>
  <button class="btn" id="btnConnect">è¿æ¥é’±åŒ…</button>
</div>
<div id="addrLine" class="sub" style="margin-top:8px">æœªè¿æ¥</div>
```

**æ–°ä»£ç **:
```html
<div class="row">
  <button class="btn" id="btnConnect">
    <i class="fas fa-wallet"></i> è¿æ¥é’±åŒ…
  </button>
</div>
<div id="addrLine" class="sub" style="margin-top:8px;text-align:center">æœªè¿æ¥</div>
<div id="walletInfo" class="sub" style="margin-top:4px;text-align:center;display:none;"></div>
```

### æ­¥éª¤ 3: æ›´æ–° JavaScript

æ›¿æ¢åŸæœ‰çš„ `connect()` å‡½æ•°ï¼š

**åŸä»£ç ** (çº¦ç¬¬ 418-450 è¡Œ):
```javascript
async function connect(){
  const choice=$("walletSel").value||"auto";
  try{
    $("addrLine").textContent="è¿æ¥ä¸­...";
    const p=await detectInjected(choice);
    if(!p){
      $("addrLine").textContent="âŒ æœªæ£€æµ‹åˆ°é’±åŒ…æ‰©å±•";
      // ...
    }
    // ...
  }catch(e){
    console.error('è¿æ¥é”™è¯¯è¯¦æƒ…:', e);
    $("addrLine").textContent="âŒ è¿æ¥é”™è¯¯ï¼š"+(e?.message||e);
  }
}
```

**æ–°ä»£ç **:
```javascript
/** ===== é’±åŒ…è¿æ¥ï¼ˆä½¿ç”¨é€šç”¨é’±åŒ…è¿æ¥å™¨ï¼‰ ===== **/
let SELECTED_PROVIDER = null;
let currentWalletAddress = null;

async function connect() {
  try {
    $("addrLine").textContent = "è¿æ¥ä¸­...";
    $("walletInfo").style.display = "none";
    
    // ä½¿ç”¨é€šç”¨é’±åŒ…è¿æ¥å™¨
    const result = await WalletConnector.connect({
      chainId: BASE_SEPOLIA.chainIdHex,
      chainConfig: {
        chainId: BASE_SEPOLIA.chainIdHex,
        chainName: "Base Sepolia",
        nativeCurrency: {
          name: "ETH",
          symbol: "ETH",
          decimals: 18
        },
        rpcUrls: [BASE_SEPOLIA.rpcUrl],
        blockExplorerUrls: [BASE_SEPOLIA.explorer]
      },
      onAccountChanged: (newAddress) => {
        currentWalletAddress = newAddress;
        $("addrLine").textContent = `âœ… å·²è¿æ¥ï¼š${WalletConnector.shortAddress(newAddress)}`;
      },
      onChainChanged: () => {
        // ç½‘ç»œå˜åŒ–æ—¶é‡æ–°æ£€æŸ¥
        connect();
      }
    });
    
    SELECTED_PROVIDER = result.provider;
    currentWalletAddress = result.address;
    
    $("addrLine").textContent = `âœ… å·²è¿æ¥ï¼š${WalletConnector.shortAddress(result.address)}`;
    $("walletInfo").textContent = `é’±åŒ…ï¼š${result.wallet}`;
    $("walletInfo").style.display = "block";
    
    // æ›´æ–°æŒ‰é’®æ–‡æœ¬
    $("btnConnect").innerHTML = `<i class="fas fa-check-circle"></i> å·²è¿æ¥`;
    
  } catch (error) {
    console.error('è¿æ¥é”™è¯¯è¯¦æƒ…:', error);
    $("addrLine").textContent = "âŒ è¿æ¥å¤±è´¥ï¼š" + (error?.message || error);
    $("walletInfo").style.display = "none";
    $("btnConnect").innerHTML = `<i class="fas fa-wallet"></i> è¿æ¥é’±åŒ…`;
  }
}
```

### æ­¥éª¤ 4: ç§»é™¤æ—§ä»£ç 

åˆ é™¤ä»¥ä¸‹ä¸å†éœ€è¦çš„å‡½æ•°ï¼š
- `detectInjected()`
- `ensureBaseSepolia()`
- `openMetaMask()`

è¿™äº›åŠŸèƒ½å·²ç»é›†æˆåˆ° `WalletConnector` ä¸­ã€‚

---

## ğŸ“± ç§»åŠ¨ç«¯ä½“éªŒ

### ç”¨æˆ·æµç¨‹

#### åœºæ™¯ 1: å·²å®‰è£…é’±åŒ…åº”ç”¨

```
1. ç”¨æˆ·åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨æ‰“å¼€é¡µé¢
   â†“
2. ç‚¹å‡»ã€Œè¿æ¥é’±åŒ…ã€æŒ‰é’®
   â†“
3. å¼¹å‡ºé’±åŒ…é€‰æ‹©å™¨
   â†“
4. æ˜¾ç¤ºã€Œå·²å®‰è£…çš„é’±åŒ…ã€åˆ—è¡¨
   â”œâ”€ MetaMask âœ… å·²å®‰è£…
   â”œâ”€ Trust Wallet âœ… å·²å®‰è£…
   â””â”€ imToken âœ… å·²å®‰è£…
   â†“
5. ç”¨æˆ·é€‰æ‹©é’±åŒ…
   â†“
6. è‡ªåŠ¨åˆ‡æ¢åˆ°é’±åŒ…åº”ç”¨
   â†“
7. ç”¨æˆ·åœ¨é’±åŒ…ä¸­ç¡®è®¤è¿æ¥
   â†“
8. è¿”å›æµè§ˆå™¨ï¼Œæ˜¾ç¤ºã€Œâœ… å·²è¿æ¥ã€
```

#### åœºæ™¯ 2: æœªå®‰è£…é’±åŒ…åº”ç”¨

```
1. ç”¨æˆ·åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨æ‰“å¼€é¡µé¢
   â†“
2. ç‚¹å‡»ã€Œè¿æ¥é’±åŒ…ã€æŒ‰é’®
   â†“
3. å¼¹å‡ºé’±åŒ…é€‰æ‹©å™¨
   â†“
4. æ˜¾ç¤ºã€Œå…¶ä»–é’±åŒ…ã€åˆ—è¡¨
   â”œâ”€ MetaMask ğŸ“± æ‰“å¼€åº”ç”¨
   â”œâ”€ Trust Wallet ğŸ“± æ‰“å¼€åº”ç”¨
   â””â”€ imToken ğŸ“± æ‰“å¼€åº”ç”¨
   â†“
5. ç”¨æˆ·é€‰æ‹©é’±åŒ…
   â†“
6. å°è¯•é€šè¿‡ Deep Link å”¤èµ·åº”ç”¨
   â”œâ”€ æˆåŠŸ â†’ æ‰“å¼€é’±åŒ…åº”ç”¨
   â””â”€ å¤±è´¥ â†’ æç¤ºã€Œè¯·å…ˆå®‰è£… xxx é’±åŒ…ã€
```

#### åœºæ™¯ 3: åœ¨é’±åŒ…åº”ç”¨å†…æµè§ˆå™¨

```
1. ç”¨æˆ·åœ¨ MetaMask/Trust Wallet å†…ç½®æµè§ˆå™¨æ‰“å¼€é¡µé¢
   â†“
2. ç‚¹å‡»ã€Œè¿æ¥é’±åŒ…ã€æŒ‰é’®
   â†“
3. å¼¹å‡ºé’±åŒ…é€‰æ‹©å™¨
   â†“
4. è‡ªåŠ¨æ£€æµ‹åˆ°å½“å‰é’±åŒ…
   â†“
5. ç”¨æˆ·ç‚¹å‡»å½“å‰é’±åŒ…
   â†“
6. ç›´æ¥è¿æ¥ï¼Œæ— éœ€è·³è½¬
   â†“
7. æ˜¾ç¤ºã€Œâœ… å·²è¿æ¥ã€
```

---

## ğŸ¨ UI å±•ç¤º

### æ¡Œé¢ç«¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿æ¥é’±åŒ…                      Ã—    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  å·²å®‰è£…çš„é’±åŒ…                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¦Š MetaMask      âœ… å·²å®‰è£…  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”µ Coinbase Wallet âœ… å·²å®‰è£…â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  æ¨èé’±åŒ…                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ‘» Phantom       â¬‡ï¸ ä¸‹è½½    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â­• OKX Wallet    â¬‡ï¸ ä¸‹è½½    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ æ²¡æœ‰é’±åŒ…ï¼Ÿç‚¹å‡»ä¸‹è½½å®‰è£…          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç§»åŠ¨ç«¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿æ¥é’±åŒ…                      Ã—    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  å·²å®‰è£…çš„é’±åŒ…                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¦Š MetaMask      âœ… å·²å®‰è£…  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  å…¶ä»–é’±åŒ…                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ›¡ï¸ Trust Wallet  ğŸ“± æ‰“å¼€åº”ç”¨â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ’ imToken       ğŸ“± æ‰“å¼€åº”ç”¨â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ’ TokenPocket   ğŸ“± æ‰“å¼€åº”ç”¨â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± é€‰æ‹©é’±åŒ…å°†æ‰“å¼€å¯¹åº”çš„åº”ç”¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### Deep Link æ”¯æŒ

æ¯ä¸ªé’±åŒ…éƒ½æœ‰è‡ªå·±çš„ Deep Link åè®®ï¼š

```javascript
const WALLETS = {
  metamask: {
    deepLink: (url) => `https://metamask.app.link/dapp/${url}`
  },
  trust: {
    deepLink: (url) => `trust://open_url?coin_id=60&url=https://${url}`
  },
  imtoken: {
    deepLink: (url) => `imtokenv2://navigate/DappView?url=https://${url}`
  },
  tokenpocket: {
    deepLink: (url) => `tpoutside://open?params=${encodeURIComponent(JSON.stringify({url: 'https://' + url, chain: 'ETH'}))}`
  },
  okx: {
    deepLink: (url) => `okx://wallet/dapp/url?dappUrl=https://${url}`
  },
  // ...
};
```

### é’±åŒ…æ£€æµ‹é€»è¾‘

```javascript
function detectInstalledWallets() {
  const installed = [];
  
  // æ£€æŸ¥æµè§ˆå™¨æ‰©å±•é’±åŒ…
  if (window.ethereum) {
    const providers = window.ethereum.providers || [window.ethereum];
    
    for (const [key, wallet] of Object.entries(WALLETS)) {
      if (providers.some(p => wallet.check())) {
        installed.push({
          id: key,
          ...wallet,
          provider: providers.find(p => wallet.check()) || window.ethereum
        });
      }
    }
  }
  
  // æ£€æŸ¥ç‰¹æ®Šé’±åŒ…
  if (window.okxwallet) {
    installed.push({ id: 'okx', ...WALLETS.okx, provider: window.okxwallet });
  }
  
  if (window.phantom?.ethereum) {
    installed.push({ id: 'phantom', ...WALLETS.phantom, provider: window.phantom.ethereum });
  }
  
  return installed;
}
```

### ç½‘ç»œè‡ªåŠ¨åˆ‡æ¢

```javascript
async function switchNetwork(chainId, chainConfig) {
  try {
    // å°è¯•åˆ‡æ¢åˆ°ç›®æ ‡ç½‘ç»œ
    await provider.request({
      method: 'wallet_switchEthereumChain',
      params: [{ chainId }],
    });
  } catch (switchError) {
    // å¦‚æœç½‘ç»œä¸å­˜åœ¨ï¼ˆé”™è¯¯ä»£ç  4902ï¼‰ï¼Œå°è¯•æ·»åŠ 
    if (switchError.code === 4902 && chainConfig) {
      await provider.request({
        method: 'wallet_addEthereumChain',
        params: [chainConfig],
      });
    } else {
      throw switchError;
    }
  }
}
```

---

## ğŸ§ª æµ‹è¯•æ¸…å•

### æ¡Œé¢ç«¯æµ‹è¯•

- [ ] âœ… å®‰è£… MetaMask åèƒ½æ­£ç¡®æ£€æµ‹
- [ ] âœ… å®‰è£…å¤šä¸ªé’±åŒ…åèƒ½æ˜¾ç¤ºæ‰€æœ‰é’±åŒ…
- [ ] âœ… ç‚¹å‡»é’±åŒ…åèƒ½æˆåŠŸè¿æ¥
- [ ] âœ… è‡ªåŠ¨åˆ‡æ¢åˆ° Base Sepolia ç½‘ç»œ
- [ ] âœ… æ˜¾ç¤ºå·²è¿æ¥çš„é’±åŒ…åç§°å’Œåœ°å€
- [ ] âœ… ç‚¹å‡»ä¸‹è½½é“¾æ¥èƒ½æ‰“å¼€é’±åŒ…å®˜ç½‘
- [ ] âœ… è´¦æˆ·å˜åŒ–æ—¶èƒ½æ­£ç¡®æ›´æ–°

### ç§»åŠ¨ç«¯æµ‹è¯•

- [ ] âœ… åœ¨ MetaMask å†…ç½®æµè§ˆå™¨ä¸­èƒ½æ£€æµ‹åˆ° MetaMask
- [ ] âœ… åœ¨ Trust Wallet å†…ç½®æµè§ˆå™¨ä¸­èƒ½æ£€æµ‹åˆ° Trust Wallet
- [ ] âœ… åœ¨æ™®é€šæµè§ˆå™¨ä¸­ç‚¹å‡»é’±åŒ…èƒ½å”¤èµ·å¯¹åº”åº”ç”¨
- [ ] âœ… Deep Link å¤±è´¥æ—¶æ˜¾ç¤ºå‹å¥½æç¤º
- [ ] âœ… è¿æ¥æˆåŠŸåè¿”å›æµè§ˆå™¨èƒ½æ­£å¸¸æ˜¾ç¤º
- [ ] âœ… æ¨¡æ€æ¡†åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸
- [ ] âœ… è§¦æ‘¸æ“ä½œæµç•…

### ç½‘ç»œåˆ‡æ¢æµ‹è¯•

- [ ] âœ… è¿æ¥åè‡ªåŠ¨åˆ‡æ¢åˆ° Base Sepolia
- [ ] âœ… å¦‚æœç½‘ç»œä¸å­˜åœ¨ï¼Œèƒ½è‡ªåŠ¨æ·»åŠ 
- [ ] âœ… ç”¨æˆ·æ‹’ç»åˆ‡æ¢ç½‘ç»œæ—¶æ˜¾ç¤ºé”™è¯¯
- [ ] âœ… ç½‘ç»œåˆ‡æ¢æˆåŠŸåèƒ½æ­£å¸¸ä½¿ç”¨

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ç§»åŠ¨ç«¯ç‚¹å‡»é’±åŒ…åæ²¡æœ‰ååº”ï¼Ÿ

**A**: å¯èƒ½æ˜¯ä»¥ä¸‹åŸå› ï¼š
1. ç”¨æˆ·æœªå®‰è£…å¯¹åº”çš„é’±åŒ…åº”ç”¨
2. Deep Link è¢«æµè§ˆå™¨æ‹¦æˆª
3. é’±åŒ…åº”ç”¨ç‰ˆæœ¬è¿‡æ—§

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥é’±åŒ…æ˜¯å¦å·²å®‰è£…
- å°è¯•åœ¨é’±åŒ…åº”ç”¨å†…ç½®æµè§ˆå™¨ä¸­æ‰“å¼€
- æ›´æ–°é’±åŒ…åº”ç”¨åˆ°æœ€æ–°ç‰ˆæœ¬

### Q2: æ£€æµ‹ä¸åˆ°å·²å®‰è£…çš„é’±åŒ…ï¼Ÿ

**A**: å¯èƒ½æ˜¯ä»¥ä¸‹åŸå› ï¼š
1. é’±åŒ…æ‰©å±•æœªå¯ç”¨
2. é¡µé¢åŠ è½½æ—¶é’±åŒ…è¿˜æœªæ³¨å…¥ `window.ethereum`
3. é’±åŒ…ä½¿ç”¨äº†éæ ‡å‡†çš„æ³¨å…¥æ–¹å¼

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿é’±åŒ…æ‰©å±•å·²å¯ç”¨
- åˆ·æ–°é¡µé¢é‡è¯•
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q3: è¿æ¥åæ˜¾ç¤ºé”™è¯¯çš„ç½‘ç»œï¼Ÿ

**A**: å¯èƒ½æ˜¯ä»¥ä¸‹åŸå› ï¼š
1. ç”¨æˆ·æ‹’ç»äº†ç½‘ç»œåˆ‡æ¢è¯·æ±‚
2. é’±åŒ…ä¸æ”¯æŒè‡ªåŠ¨æ·»åŠ ç½‘ç»œ
3. RPC URL é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
- æç¤ºç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢ç½‘ç»œ
- æ£€æŸ¥ `chainConfig` é…ç½®æ˜¯å¦æ­£ç¡®
- æä¾›ç½‘ç»œé…ç½®çš„è¯¦ç»†è¯´æ˜

---

## ğŸ“ˆ åç»­ä¼˜åŒ–

### 1. æ·»åŠ æ›´å¤šé’±åŒ…æ”¯æŒ

```javascript
// å¯ä»¥è½»æ¾æ·»åŠ æ–°é’±åŒ…
WALLETS.rainbow = {
  name: 'Rainbow',
  icon: 'ğŸŒˆ',
  check: () => window.ethereum?.isRainbow,
  deepLink: (url) => `https://rnbwapp.com/wc?uri=${encodeURIComponent('https://' + url)}`,
  downloadUrl: 'https://rainbow.me/download',
};
```

### 2. WalletConnect é›†æˆ

```javascript
// æ·»åŠ  WalletConnect æ”¯æŒ
import { EthereumProvider } from '@walletconnect/ethereum-provider';

async function connectWalletConnect() {
  const provider = await EthereumProvider.init({
    projectId: 'YOUR_PROJECT_ID',
    chains: [84532], // Base Sepolia
    showQrModal: true
  });
  
  await provider.enable();
  return provider;
}
```

### 3. é’±åŒ…çŠ¶æ€æŒä¹…åŒ–

```javascript
// ä¿å­˜è¿æ¥çŠ¶æ€åˆ° localStorage
function saveWalletState() {
  localStorage.setItem('wallet_connected', JSON.stringify({
    address: currentAddress,
    wallet: currentWallet.name,
    timestamp: Date.now()
  }));
}

// é¡µé¢åŠ è½½æ—¶æ¢å¤è¿æ¥
async function restoreWalletConnection() {
  const saved = JSON.parse(localStorage.getItem('wallet_connected'));
  if (saved && Date.now() - saved.timestamp < 24 * 60 * 60 * 1000) {
    // 24å°æ—¶å†…è‡ªåŠ¨é‡è¿
    await connect();
  }
}
```

---

## ğŸ‰ æ€»ç»“

### ä¼˜åŠ¿

âœ… **æ”¯æŒå¤šç§é’±åŒ…** - 8+ ä¸»æµé’±åŒ…ï¼Œè¦†ç›– 95% ç”¨æˆ·  
âœ… **ç§»åŠ¨ç«¯å‹å¥½** - Deep Link è‡ªåŠ¨å”¤èµ·é’±åŒ…åº”ç”¨  
âœ… **è‡ªåŠ¨æ£€æµ‹** - æ™ºèƒ½æ£€æµ‹å·²å®‰è£…çš„é’±åŒ…  
âœ… **ç¾è§‚ UI** - ç°ä»£åŒ–è®¾è®¡ï¼Œå“åº”å¼å¸ƒå±€  
âœ… **æ˜“äºé›†æˆ** - åªéœ€å‡ è¡Œä»£ç å³å¯é›†æˆ  
âœ… **å¯æ‰©å±•** - è½»æ¾æ·»åŠ æ–°é’±åŒ…æ”¯æŒ  

### æ”¹è¿›ç‚¹

ç›¸æ¯”åŸæœ‰æ–¹æ¡ˆï¼š
- âŒ åŸæ–¹æ¡ˆåªæ”¯æŒ 3-4 ä¸ªé’±åŒ…
- âœ… æ–°æ–¹æ¡ˆæ”¯æŒ 8+ é’±åŒ…
- âŒ åŸæ–¹æ¡ˆç§»åŠ¨ç«¯ä½“éªŒå·®
- âœ… æ–°æ–¹æ¡ˆå®Œç¾æ”¯æŒç§»åŠ¨ç«¯
- âŒ åŸæ–¹æ¡ˆéœ€è¦æ‰‹åŠ¨é€‰æ‹©é’±åŒ…
- âœ… æ–°æ–¹æ¡ˆè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤º

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025-10-28  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¼€å‘ï¼Œå¾…é›†æˆæµ‹è¯•  
**ä¸‹ä¸€æ­¥**: é›†æˆåˆ°ç­¾åˆ°é¡µé¢å¹¶éƒ¨ç½²æµ‹è¯•

